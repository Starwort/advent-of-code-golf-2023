A=i=0;B={}
for l in open(0):
 a,b=map(s:=str.split,s(s(l,":")[1],"|"));o=len({*a}&{*b});A+=int(2**(o-1));B[i]=t=B.get(i,1)
 for j in range(o):B[k]=B.get(k:=i+j+1,1)+t
 i+=1
print(A,sum(B.values()))