from random import*
g={};S=sum
for l in open(0):
 a,*B=l.split()
 for b in B:g[b]=g.get(b,[])+[k:=a[:3]];g[k]=g.get(k,[])+B
p={k:choices([0,1],k=9)for k in g}
for _ in'a'*99:p={k:[x+S(L)/len(L)for*L,x in zip(*[p[K]for K in g[k]+[k]])]for k in p}
print((X:=S(S(p[k])<(min(z:=[S(p[v])for v in p])+max(z))/2for k in p))*(len(p)-X))