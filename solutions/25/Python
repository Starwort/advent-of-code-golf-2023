from collections import*
from random import*
g,S=defaultdict(list),sum
for a,*B in[l.replace(*": ").split()for l in open(0)]:
 g[a]+=B
 for b in B:g[b]+=[a]
p={k:choices([0,1],k=9)for k in g}
for _ in'a'*30:p={k:[x/5+.8*S(L)/len(L)for x,*L in zip(p[k],*[p[K]for K in g[k]])]for k in p}
L,*_,H=sorted(p.values(),key=S)
print((X:=S(S(p[k])<S(L+H)/2for k in p))*(len(p)-X))